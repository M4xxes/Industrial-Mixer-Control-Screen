import { Recipe, RecipeStep, Mixer, Batch, Alarm, Inventory } from '../types';

// Recette standard avec 32 étapes
export const standardRecipeSteps: RecipeStep[] = [
  { id: '1', stepNumber: 1, function: 'Démarrage', arm: 'GV', screw: 'GV', duration: 10 },
  { id: '2', stepNumber: 2, function: 'Dosage Automatique', arm: 'GV', screw: 'GV', duration: 120, product: 'NAPVIS D200', weight: 50 },
  { id: '3', stepNumber: 3, function: 'Mélange', arm: 'GV', screw: 'GV', duration: 300 },
  { id: '4', stepNumber: 4, function: 'Dosage Automatique', arm: 'GV', screw: 'GV', duration: 180, product: 'Hydrocarbure OG', weight: 30 },
  { id: '5', stepNumber: 5, function: 'Mélange', arm: 'GV', screw: 'GV', duration: 240 },
  // ... Ajoutons plus d'étapes pour atteindre 32
];

// Générer les 32 étapes complètes
const generateFullRecipeSteps = (): RecipeStep[] => {
  const steps: RecipeStep[] = [];
  const functions: Array<{ type: RecipeStep['function'], duration: number, product?: string, weight?: number }> = [
    { type: 'Démarrage', duration: 10 },
    { type: 'Dosage Automatique', duration: 120, product: 'NAPVIS D200', weight: 50 },
    { type: 'Mélange', duration: 300 },
    { type: 'Dosage Automatique', duration: 180, product: 'Hydrocarbure OG', weight: 30 },
    { type: 'Mélange', duration: 240 },
    { type: 'Introduction Manuelle', duration: 60, product: 'Additif A', weight: 5 },
    { type: 'Mélange', duration: 180 },
    { type: 'Dosage Automatique', duration: 150, product: 'Catalyseur', weight: 2 },
    { type: 'Mélange', duration: 200 },
    { type: 'Prépa mise au vide', duration: 30 },
    { type: 'Mise au vide', duration: 600 },
    { type: 'Mélange', duration: 300 },
    { type: 'Dosage Automatique', duration: 120, product: 'Polymère B', weight: 40 },
    { type: 'Mélange', duration: 240 },
    { type: 'Introduction Manuelle', duration: 60, product: 'Additif B', weight: 3 },
    { type: 'Mélange', duration: 180 },
    { type: 'Dosage Automatique', duration: 100, product: 'Huile', weight: 10 },
    { type: 'Mélange', duration: 200 },
    { type: 'Prépa mise au vide', duration: 30 },
    { type: 'Mise au vide', duration: 600 },
    { type: 'Mélange', duration: 300 },
    { type: 'Dosage Automatique', duration: 140, product: 'Composant C', weight: 25 },
    { type: 'Mélange', duration: 240 },
    { type: 'Introduction Manuelle', duration: 60, product: 'Additif C', weight: 4 },
    { type: 'Mélange', duration: 180 },
    { type: 'Dosage Automatique', duration: 110, product: 'D10', weight: 15 },
    { type: 'Mélange', duration: 200 },
    { type: 'Prépa mise au vide', duration: 30 },
    { type: 'Mise au vide', duration: 600 },
    { type: 'Mélange', duration: 300 },
    { type: 'Extrusion', duration: 1200 },
  ];

  functions.forEach((func, index) => {
    steps.push({
      id: `${index + 1}`,
      stepNumber: index + 1,
      function: func.type,
      arm: index % 2 === 0 ? 'GV' : 'PV',
      screw: index % 3 === 0 ? 'GV' : 'PV',
      duration: func.duration,
      product: func.product,
      weight: func.weight,
    });
  });

  return steps;
};

export const mockRecipes: Recipe[] = [
  {
    id: '1',
    name: 'Recette A - Standard',
    description: 'Recette standard de production',
    steps: generateFullRecipeSteps(),
    createdAt: '2024-01-01T00:00:00Z',
    updatedAt: '2024-01-01T00:00:00Z',
    isActive: true,
  },
  {
    id: '2',
    name: 'Recette B - Rapide',
    description: 'Recette optimisée pour production rapide',
    steps: generateFullRecipeSteps().slice(0, 20),
    createdAt: '2024-01-02T00:00:00Z',
    updatedAt: '2024-01-02T00:00:00Z',
    isActive: true,
  },
  {
    id: '3',
    name: 'Recette C - Précision',
    description: 'Recette pour haute précision',
    steps: generateFullRecipeSteps(),
    createdAt: '2024-01-03T00:00:00Z',
    updatedAt: '2024-01-03T00:00:00Z',
    isActive: true,
  },
];

export const mockMixers: Mixer[] = [
  {
    id: 1,
    name: 'Malaxeur B1',
    status: 'Marche',
    recipe: mockRecipes[0],
    currentStep: 5,
    progress: 65,
    temperature: 85.5,
    pressure: 1.2,
    speed: 45,
    power: 12.5,
    motorArm: 'Marche',
    motorScrew: 'Marche',
    batchProgress: 15.5,
  },
  {
    id: 2,
    name: 'Malaxeur B2',
    status: 'Marche',
    recipe: mockRecipes[1],
    currentStep: 3,
    progress: 45,
    temperature: 78.2,
    pressure: 0.9,
    speed: 38,
    power: 10.2,
    motorArm: 'Marche',
    motorScrew: 'Marche',
    batchProgress: 12.3,
  },
  {
    id: 3,
    name: 'Malaxeur B3',
    status: 'Arrêt',
    recipe: undefined,
    currentStep: undefined,
    progress: 0,
    temperature: 25.0,
    pressure: 0,
    speed: 0,
    power: 0,
    motorArm: 'Arrêt',
    motorScrew: 'Arrêt',
  },
  {
    id: 4,
    name: 'Malaxeur B5',
    status: 'Marche',
    recipe: mockRecipes[2],
    currentStep: 8,
    progress: 75,
    temperature: 92.1,
    pressure: 1.5,
    speed: 52,
    power: 14.8,
    motorArm: 'Marche',
    motorScrew: 'Marche',
    batchProgress: 25.0,
  },
  {
    id: 5,
    name: 'Malaxeur B6',
    status: 'Erreur',
    recipe: mockRecipes[0],
    currentStep: 2,
    progress: 20,
    temperature: 45.0,
    pressure: 0.3,
    speed: 0,
    power: 0,
    motorArm: 'Défaut',
    motorScrew: 'Arrêt',
  },
  {
    id: 6,
    name: 'Malaxeur B7',
    status: 'Maintenance',
    recipe: undefined,
    currentStep: undefined,
    progress: 0,
    temperature: 22.0,
    pressure: 0,
    speed: 0,
    power: 0,
    motorArm: 'Maintenance',
    motorScrew: 'Maintenance',
  },
];

export const mockAlarms: Alarm[] = [
  {
    id: '1',
    mixerId: 5,
    alarmCode: 'ERR-001',
    description: 'Surchauffe moteur bras',
    level: 'Critique',
    status: 'Active',
    occurredAt: new Date(Date.now() - 3600000).toISOString(),
  },
  {
    id: '2',
    mixerId: 2,
    alarmCode: 'WARN-002',
    description: 'Température élevée',
    level: 'Warning',
    status: 'Active',
    occurredAt: new Date(Date.now() - 1800000).toISOString(),
  },
  {
    id: '3',
    mixerId: 1,
    alarmCode: 'INFO-003',
    description: 'Maintenance préventive programmée',
    level: 'Info',
    status: 'Acquittée',
    occurredAt: new Date(Date.now() - 7200000).toISOString(),
    acknowledgedAt: new Date(Date.now() - 7000000).toISOString(),
    acknowledgedBy: 'admin',
  },
];

export const mockInventory: Inventory[] = [
  { id: '1', productName: 'NAPVIS D200', currentQuantity: 450, maxCapacity: 1000, minThreshold: 100, unit: 'L', category: 'Composant', status: 'Normal' },
  { id: '2', productName: 'Hydrocarbure OG', currentQuantity: 320, maxCapacity: 800, minThreshold: 80, unit: 'L', category: 'Composant', status: 'Normal' },
  { id: '3', productName: 'Huile', currentQuantity: 25, maxCapacity: 200, minThreshold: 20, unit: 'L', category: 'Composant', status: 'Bas' },
  { id: '4', productName: 'D10', currentQuantity: 8, maxCapacity: 100, minThreshold: 10, unit: 'L', category: 'Composant', status: 'Critique' },
  { id: '5', productName: 'Polymère A', currentQuantity: 1200, maxCapacity: 2000, minThreshold: 200, unit: 'Kg', category: 'Polymère', status: 'Normal' },
  { id: '6', productName: 'Polymère B', currentQuantity: 850, maxCapacity: 2000, minThreshold: 200, unit: 'Kg', category: 'Polymère', status: 'Normal' },
  { id: '7', productName: 'Additif A', currentQuantity: 45, maxCapacity: 100, minThreshold: 10, unit: 'Kg', category: 'Additif', status: 'Normal' },
  { id: '8', productName: 'Additif B', currentQuantity: 5, maxCapacity: 100, minThreshold: 10, unit: 'Kg', category: 'Additif', status: 'Critique' },
  { id: '9', productName: 'Catalyseur', currentQuantity: 12, maxCapacity: 50, minThreshold: 5, unit: 'Kg', category: 'Catalyseur', status: 'Normal' },
  { id: '10', productName: 'Composant C', currentQuantity: 180, maxCapacity: 500, minThreshold: 50, unit: 'Kg', category: 'Composant', status: 'Normal' },
  // Ajoutons plus de produits pour atteindre 26
  { id: '11', productName: 'Poudre A', currentQuantity: 600, maxCapacity: 1000, minThreshold: 100, unit: 'Kg', category: 'Poudre', status: 'Normal' },
  { id: '12', productName: 'Poudre B', currentQuantity: 420, maxCapacity: 1000, minThreshold: 100, unit: 'Kg', category: 'Poudre', status: 'Normal' },
  { id: '13', productName: 'Solvant X', currentQuantity: 150, maxCapacity: 300, minThreshold: 30, unit: 'L', category: 'Solvant', status: 'Normal' },
  { id: '14', productName: 'Solvant Y', currentQuantity: 18, maxCapacity: 300, minThreshold: 30, unit: 'L', category: 'Solvant', status: 'Critique' },
  { id: '15', productName: 'Résine A', currentQuantity: 750, maxCapacity: 1500, minThreshold: 150, unit: 'Kg', category: 'Résine', status: 'Normal' },
  { id: '16', productName: 'Résine B', currentQuantity: 320, maxCapacity: 1500, minThreshold: 150, unit: 'Kg', category: 'Résine', status: 'Normal' },
  { id: '17', productName: 'Pigment Rouge', currentQuantity: 85, maxCapacity: 200, minThreshold: 20, unit: 'Kg', category: 'Pigment', status: 'Normal' },
  { id: '18', productName: 'Pigment Bleu', currentQuantity: 45, maxCapacity: 200, minThreshold: 20, unit: 'Kg', category: 'Pigment', status: 'Normal' },
  { id: '19', productName: 'Stabilisant A', currentQuantity: 120, maxCapacity: 300, minThreshold: 30, unit: 'Kg', category: 'Stabilisant', status: 'Normal' },
  { id: '20', productName: 'Stabilisant B', currentQuantity: 28, maxCapacity: 300, minThreshold: 30, unit: 'Kg', category: 'Stabilisant', status: 'Bas' },
  { id: '21', productName: 'Plastifiant', currentQuantity: 200, maxCapacity: 500, minThreshold: 50, unit: 'L', category: 'Plastifiant', status: 'Normal' },
  { id: '22', productName: 'Agent Moussant', currentQuantity: 35, maxCapacity: 100, minThreshold: 10, unit: 'Kg', category: 'Agent', status: 'Normal' },
  { id: '23', productName: 'Retardateur', currentQuantity: 15, maxCapacity: 50, minThreshold: 5, unit: 'Kg', category: 'Retardateur', status: 'Normal' },
  { id: '24', productName: 'Accélérateur', currentQuantity: 22, maxCapacity: 50, minThreshold: 5, unit: 'Kg', category: 'Accélérateur', status: 'Normal' },
  { id: '25', productName: 'Charge Minérale', currentQuantity: 1500, maxCapacity: 3000, minThreshold: 300, unit: 'Kg', category: 'Charge', status: 'Normal' },
  { id: '26', productName: 'Fibre Renforçante', currentQuantity: 280, maxCapacity: 800, minThreshold: 80, unit: 'Kg', category: 'Fibre', status: 'Normal' },
];

